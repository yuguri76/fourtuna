<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>4조참치에 어서오세요</title>
    <link rel="stylesheet" href="yeojae.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>


    <title>4조참치에 어서오세요</title>
    <style>
        body {
            background: white;
            height: 400vh;
        }

        div {
            align-items: center;
            display: flex;
            justify-content: center;
            color: black;
            text-align: center;
            opacity: 0;
            transition: all 2s;
            height: 100vh;
        }

        h1 {
            font-size: 50px;
        }

        .img1 {
            position: absolute;
            background-image: url("src/background/Goverment24.png?raw=true");
            z-index: -1;
            background-position: center;
            background-repeat: no-repeat;
            background-size: contain;
            opacity: 0;
            height: 100%;
            width: 100%;
            transition-delay: 10ms;
            transition-duration: 4s;
        }

        .wrapper {
            width: 1158px;
            height: 357px;
            opacity: 1;
            background-image: url("src/background/Fake.PNG");
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        .last1 {
            width: 360px;
            height: 269px;
            opacity: 1;
            background-image: url("src/background/hahaha.jpg");
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        /* Start Sangyoon's Style */
        .video-container {
            height: 100vh; 
            overflow: hidden; 
        }
        .banner-container {
            height: 100vh;
            background-image: url("/img/tuna.jpeg");
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
             /* opacity: 0;초기 투명도 */
            transition: opacity 2s ease-in-out; /* 부드러운 투명도 전환 */
            visibility: hidden; /* 초기에는 보이지 않음 */
            transition-delay: 0.5s; /* 약간의 딜레이 후 애니메이션 시작 */
        }
        /* End Sangyoon's Style */
    </style>
    <script>
        window.scrollTo({ top: 0, left: 0, behavior: 'instant' });
        document.addEventListener("DOMContentLoaded", ready);

        function ready() {
            let observer = new IntersectionObserver((e) => {
                e.forEach((ob) => {
                    if (ob.isIntersecting) {
                        console.log(ob.target);
                        if (ob.target.className == 'img1') {
                            ob.target.style.opacity = 0.5;
                            setTimeout(function () {
                                let changeBG = 'url("src/logo.png")';
                                ob.target.style.backgroundImage = changeBG;
                            }, 2000
                            )
                        } else {
                            ob.target.style.opacity = 1;
                        }
                        //ob.target.style.transform='rotate(0deg)';//이상한거
                    }
                    //ob.intersectionRatio //박스가 반쯤 보이면 0.5 출력

                })
            })

            let div = document.querySelectorAll('div');
            observer.observe(div[0]) // 감시
            observer.observe(div[1])
            observer.observe(div[2])
            observer.observe(div[3])
            $(window).scroll(function () {
                var scrT = $(window).scrollTop();
                console.log(scrT); //스크롤 값 확인용
                if (scrT >= $(document).height() - $(window).height() - 10) {
                    //스크롤이 끝에 도달했을때 실행될 이벤트
                    // 다른 HTML 파일로 이동
                    sessionStorage.setItem('first', 'first');
                    history.pushState(null, "");
                    //window.location.href = 'main.html';
                } else {
                    //아닐때 이벤트
                }
            });
        }

        document.addEventListener("DOMContentLoaded", function() {
            let observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.opacity = 1;
                        entry.target.style.visibility = 'visible';
                    } else {
                        entry.target.style.opacity = 0;
                        entry.target.style.visibility = 'hidden';
                    }
                });
            }, { threshold: [0.5] }); // 50% 이상 보이면 실행

            // .banner-container 요소를 감시 대상으로 등록
            const banner = document.querySelector('.banner-container');
            observer.observe(banner);
        });

    </script>
</head>

<body>
    <div class="img1"></div>
    <div class="Government">
        <h2>내배캠이라는 거친 바다에 뛰어든 싱싱하고 힘찬 개발자들의 모임</h2>
        <h1>4조참치</h1>
    </div>
    
    
    
    <div class="video-container">
        <video src="/video/tuna.mov" autoplay muted loop>
            tunatunatuantuanvideo
        </video>
    </div>
    
    <div class="Government">
        <h1>이렇게 팔딱팔딱 뛰는 참치들처럼 거친 바다를 헤엄치는 저희는...</h1>
    </div> 

    <div class="banner-container">
        <div class="container">
            <div class="sub-text">내배캠이라는 거친 바다에 뛰어든 싱싱하고 힘찬 개발자들의 모임</div>
            <div class="main-text">4<span class="highlight">조</span>참치</div>
        </div> 
    </div>

    <div>
        <div class="wrapper">
            <h1>어쩌구저쩌구 약속</h1>
        </div>
    </div>

    <div style="opacity: 1;">
        <div class="last1">
            <h1>메뉴 보러가기</h1>
        </div>
    </div>
    <div>

    </div>
</body>

</html>